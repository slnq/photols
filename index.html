<html>
	<meta charset="UTF-8">
<head>
	<title>夏果</title>
	<link rel="icon" href="f.ico" type="image/x-icon">
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      background: #000;
    }
    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      filter: blur(15px);
      z-index: -2;
      transition: background-image 0.5s ease;
    }
    .shadow {
      position: absolute;
      top: 0;
      width: 40vw; 
      box-shadow: -20px 0 40px rgba(0,0,0,0.6),
                   20px 0 40px rgba(0,0,0,0.6);
      z-index: -1;
    }
    .content {
      width: 40vw;
    }
    .content img {
      width: 100%;
      display: block;
    }

    .label {
      position: fixed;
      left: 70vw;      
      bottom: 1vw;     
      writing-mode: vertical-rl;
      font-size: 48px;
      color: transparent;
      -webkit-text-stroke: 0.5px #dcdce0;
      text-stroke: 0.5px #dcdce0;
      z-index: 10;
      font-family: serif;
    }

	.label a {
	  color: transparent;
	  text-decoration: none;
	  pointer-events: auto;
	}

    @media (max-aspect-ratio: 3/2) {
      .content {
        width: 100vw;
      }
      .shadow {
        display: none;
      }
      .label {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="background" id="bg"></div>
  <div class="shadow" id="shadow"></div>
  <div class="content" id="container"></div>

  <div class="label"><a href="https://slnq.github.io">夏果</a></div>

  <script>
    const numbers = Array.from({ length: 16 }, (_, i) => i + 1);
    for (let i = numbers.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [numbers[i], numbers[j]] = [numbers[j], numbers[i]];
    }

    const container = document.getElementById("container");
    const bg = document.getElementById("bg");
    const shadow = document.getElementById("shadow");

    let totalHeight = 0;

    numbers.forEach((n, idx) => {
      const img = document.createElement("img");
      img.src = n + ".jpg";

      img.addEventListener("load", () => {
        totalHeight += img.height;
        shadow.style.height = totalHeight + "px"; 
      });

      container.appendChild(img);

      if (idx === 0) {
        bg.style.backgroundImage = `url(${n}.jpg)`;
      }

      img.addEventListener("mouseenter", () => {
        bg.style.backgroundImage = `url(${n}.jpg)`;
      });
    });
  </script>
</body>
</html>
